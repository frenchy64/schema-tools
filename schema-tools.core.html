<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><title>schema-tools.core documentation</title></head><body><header><section class="title"><h1><a href="index.html">Schema-tools Api Documentation</a></h1></section><small>Version: 0.7.0-SNAPSHOT</small></header><section class="container"><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>schema-tools</span></div></div></li><li class="depth-2 branch"><a href="schema-tools.coerce.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>coerce</span></div></a></li><li class="depth-2 branch current"><a href="schema-tools.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>experimental</span></div></div></li><li class="depth-3"><a href="schema-tools.experimental.walk.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>walk</span></div></a></li><li class="depth-2 branch"><a href="schema-tools.util.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-2"><a href="schema-tools.walk.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>walk</span></div></a></li></ul></div><section class="namespace-docs" id="content"><h2 class="anchor" id="top">schema-tools.core</h2><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-any-keys"><h3><a href="#var-any-keys">any-keys</a></h3><div class="usage"><code>(any-keys)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/metosin/schema-tools/blob/master/src/schema_tools/core.cljc#L52">view source</a></div></div><div class="public anchor" id="var-any-keyword-keys"><h3><a href="#var-any-keyword-keys">any-keyword-keys</a></h3><div class="usage"><code>(any-keyword-keys &amp; schemas)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/metosin/schema-tools/blob/master/src/schema_tools/core.cljc#L55">view source</a></div></div><div class="public anchor" id="var-AnyKeys"><h3><a href="#var-AnyKeys">AnyKeys</a></h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/metosin/schema-tools/blob/master/src/schema_tools/core.cljc#L51">view source</a></div></div><div class="public anchor" id="var-AnyKeywordKeys"><h3><a href="#var-AnyKeywordKeys">AnyKeywordKeys</a></h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/metosin/schema-tools/blob/master/src/schema_tools/core.cljc#L54">view source</a></div></div><div class="public anchor" id="var-assoc"><h3><a href="#var-assoc">assoc</a></h3><div class="usage"><code>(assoc schema &amp; kvs)</code></div><div class="doc"><div class="markdown"><p>Assoc[iate]s key &amp; vals into Schema.</p></div></div><div class="src-link"><a href="http://github.com/metosin/schema-tools/blob/master/src/schema_tools/core.cljc#L61">view source</a></div></div><div class="public anchor" id="var-assoc-in"><h3><a href="#var-assoc-in">assoc-in</a></h3><div class="usage"><code>(assoc-in schema [k &amp; ks] v)</code></div><div class="doc"><div class="markdown"><p>Associates a value in a nested associative Schema, where <code>ks</code> is a sequence of keys and <code>v</code> is the new value and returns a new nested Schema. If any levels do not exist, hash-maps will be created.</p></div></div><div class="src-link"><a href="http://github.com/metosin/schema-tools/blob/master/src/schema_tools/core.cljc#L113">view source</a></div></div><div class="public anchor" id="var-dissoc"><h3><a href="#var-dissoc">dissoc</a></h3><div class="usage"><code>(dissoc schema &amp; ks)</code></div><div class="doc"><div class="markdown"><p>Dissoc[iate]s keys from Schema.</p></div></div><div class="src-link"><a href="http://github.com/metosin/schema-tools/blob/master/src/schema_tools/core.cljc#L78">view source</a></div></div><div class="public anchor" id="var-dissoc-in"><h3><a href="#var-dissoc-in">dissoc-in</a></h3><div class="usage"><code>(dissoc-in schema [k &amp; ks])</code></div><div class="doc"><div class="markdown"><p>Dissociates an entry from a nested associative Schema returning a new nested structure. keys is a sequence of keys. Any empty maps that result will not be present in the new Schema.</p></div></div><div class="src-link"><a href="http://github.com/metosin/schema-tools/blob/master/src/schema_tools/core.cljc#L140">view source</a></div></div><div class="public anchor" id="var-get-in"><h3><a href="#var-get-in">get-in</a></h3><div class="usage"><code>(get-in m ks)</code><code>(get-in m ks not-found)</code></div><div class="doc"><div class="markdown"><p>Returns the value in a nested associative Schema, where <code>ks</code> is a sequence of keys. Returns <code>nil</code> if the key is not present, or the <code>not-found</code> value if supplied.</p></div></div><div class="src-link"><a href="http://github.com/metosin/schema-tools/blob/master/src/schema_tools/core.cljc#L95">view source</a></div></div><div class="public anchor" id="var-merge"><h3><a href="#var-merge">merge</a></h3><div class="usage"><code>(merge &amp; schemas)</code></div><div class="doc"><div class="markdown"><p>Returns a Schema that consists of the rest of the Schemas conj-ed onto the first. If a schema key occurs in more than one map, the mapping from the latter (left-to-right) will be the mapping in the result. Works only with Map schemas.</p></div></div><div class="src-link"><a href="http://github.com/metosin/schema-tools/blob/master/src/schema_tools/core.cljc#L160">view source</a></div></div><div class="public anchor" id="var-optional-keys"><h3><a href="#var-optional-keys">optional-keys</a></h3><div class="usage"><code>(optional-keys m)</code><code>(optional-keys m ks)</code></div><div class="doc"><div class="markdown"><p>Makes given map keys optional. Defaults to all keys.</p></div></div><div class="src-link"><a href="http://github.com/metosin/schema-tools/blob/master/src/schema_tools/core.cljc#L200">view source</a></div></div><div class="public anchor" id="var-required-keys"><h3><a href="#var-required-keys">required-keys</a></h3><div class="usage"><code>(required-keys m)</code><code>(required-keys m ks)</code></div><div class="doc"><div class="markdown"><p>Makes given map keys required. Defaults to all keys.</p></div></div><div class="src-link"><a href="http://github.com/metosin/schema-tools/blob/master/src/schema_tools/core.cljc#L205">view source</a></div></div><div class="public anchor" id="var-resolve-schema"><h3><a href="#var-resolve-schema">resolve-schema</a></h3><div class="usage"><code>(resolve-schema schema)</code></div><div class="doc"><div class="markdown"><p>Returns the schema var if the schema contains the <code>:name</code> and <code>:ns</code> definitions (set by <code>schema.core/defschema</code>).</p></div></div><div class="src-link"><a href="http://github.com/metosin/schema-tools/blob/master/src/schema_tools/core.cljc#L221">view source</a></div></div><div class="public anchor" id="var-resolve-schema-description"><h3><a href="#var-resolve-schema-description">resolve-schema-description</a></h3><div class="usage"><code>(resolve-schema-description schema)</code></div><div class="doc"><div class="markdown"><p>Returns the schema description, in this lookup order: a) schema meta :description b) schema var meta :doc if not &quot;&quot; c) nil</p></div></div><div class="src-link"><a href="http://github.com/metosin/schema-tools/blob/master/src/schema_tools/core.cljc#L229">view source</a></div></div><div class="public anchor" id="var-schema-description"><h3><a href="#var-schema-description">schema-description</a></h3><div class="usage"><code>(schema-description schema)</code></div><div class="doc"><div class="markdown"><p>Returns the description of a schema attached via schema-with-description.</p></div></div><div class="src-link"><a href="http://github.com/metosin/schema-tools/blob/master/src/schema_tools/core.cljc#L215">view source</a></div></div><div class="public anchor" id="var-schema-with-description"><h3><a href="#var-schema-with-description">schema-with-description</a></h3><div class="usage"><code>(schema-with-description schema description)</code></div><div class="doc"><div class="markdown"><p>Records description in schema&rsquo;s metadata.</p></div></div><div class="src-link"><a href="http://github.com/metosin/schema-tools/blob/master/src/schema_tools/core.cljc#L210">view source</a></div></div><div class="public anchor" id="var-select-keys"><h3><a href="#var-select-keys">select-keys</a></h3><div class="usage"><code>(select-keys schema ks)</code></div><div class="doc"><div class="markdown"><p>Like <code>clojure.core/select-keys</code> but handles boths optional-keys and required-keys.</p></div></div><div class="src-link"><a href="http://github.com/metosin/schema-tools/blob/master/src/schema_tools/core.cljc#L87">view source</a></div></div><div class="public anchor" id="var-select-schema"><h3><a href="#var-select-schema">select-schema</a></h3><div class="usage"><code>(select-schema value schema)</code><code>(select-schema value schema matcher)</code></div><div class="doc"><div class="markdown"><p>Strips all disallowed keys from nested Map schemas via coercion. Takes an optional coercion matcher for extra coercing the selected value(s) on a single sweep. If a value can&rsquo;t be coerced to match the schema <code>ExceptionInfo</code> is thrown (like <code>schema.core/validate</code>).</p></div></div><div class="src-link"><a href="http://github.com/metosin/schema-tools/blob/master/src/schema_tools/core.cljc#L181">view source</a></div></div><div class="public anchor" id="var-update"><h3><a href="#var-update">update</a></h3><div class="usage"><code>(update schema k f &amp; args)</code></div><div class="doc"><div class="markdown"><p>Updates a value in a map with a function.</p></div></div><div class="src-link"><a href="http://github.com/metosin/schema-tools/blob/master/src/schema_tools/core.cljc#L155">view source</a></div></div><div class="public anchor" id="var-update-in"><h3><a href="#var-update-in">update-in</a></h3><div class="usage"><code>(update-in schema [k &amp; ks] f &amp; args)</code></div><div class="doc"><div class="markdown"><p>&lsquo;Updates&rsquo; a value in a nested associative Schema, where <code>ks</code> is a sequence of keys and <code>f</code> is a function that will take the old value and any supplied args and return the new value, and returns a new nested Schema. If any levels do not exist, hash-maps will be created.</p></div></div><div class="src-link"><a href="http://github.com/metosin/schema-tools/blob/master/src/schema_tools/core.cljc#L125">view source</a></div></div></section></section></body></html>